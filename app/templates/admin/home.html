
{% extends "base.html" %}
{% block content %}
  <h1>Admin</h1>
  <div class="row">
    <div class="col">
      <h2>Admins</h2>
      <form method="post" action="{{ url_for('admin.admins_mod') }}" class="row" style="gap:8px">
        <input name="kennitala" placeholder="Kennitala" />
        <button class="btn" name="action" value="add" type="submit">Add</button>
            <button class="btn danger" name="action" value="delete" type="submit">Delete</button>
      </form>
      <table style="margin-top:8px">
        <tr><th>Kennitala</th></tr>
        {% for a in admins %}
          <tr><td>{{ a.kennitala }}</td></tr>
        {% endfor %}
      </table>
    </div>
    <div class="col">
      <h2>Elections</h2>
      <a class="btn" href="{{ url_for('admin.create_election') }}">Create election</a>
      <table style="margin-top:8px">
        <tr><th>Title</th><th>Dates</th><th></th></tr>
        {% for e in elections %}
          <tr>
            <td>{{ e.title }}</td>
            <td>{{ e.start_date }} â†’ {{ e.end_date }}</td>
            <td>
              <form method="post" action="{{ url_for('admin.delete_election', election_id=e.id) }}" onsubmit="return confirm('Delete election and all votes?')">
                <button class="btn danger" type="submit">Delete</button>
              </form>
            </td>
          </tr>
        {% endfor %}
      </table>
    </div>
  </div>
{% endblock %}
